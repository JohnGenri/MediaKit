# MediaKit Telegram Bot

Этот бот предназначен для загрузки аудио и видео из популярных музыкальных и видео сервисов прямо в чате Telegram. Он работает в двух режимах: обычном (`/start`) и инлайн (через `@username_бота [ссылка]`).

## Поддерживаемые сервисы

- YouTube и YouTube Music
- Yandex.Музыка
- Spotify
- Instagram (видео)
- TikTok (видео)
- Reddit (видео)
- VK (видео)

## Возможности бота

1. **Загрузка Аудио (YouTube Music, Yandex.Музыка, Spotify):**  
   Отправьте ссылку на трек из одного из поддерживаемых музыкальных сервисов, и бот найдет и отправит вам MP3-файл.  
   Для Yandex.Музыки и Spotify бот ищет трек на YouTube и скачивает его оттуда.

2. **Загрузка Видео (YouTube, Instagram, TikTok, Reddit, VK):**  
   Отправьте ссылку на видео из поддерживаемого видеосервиса, и бот скачает и отправит вам видеофайл.

3. **Кэширование:**  
   Повторная отправка одной и той же ссылки выдаст файл из кэша, ускоряя ответ.

4. **Инлайн-режим:**  
   Введите `@username_бота [ссылка]` в любом чате для быстрого скачивания и отправки файла без перехода к боту.

## Требования

- Python 3.9+
- [yt-dlp](https://github.com/yt-dlp/yt-dlp)
- [instaloader](https://github.com/instaloader/instaloader)
- [asyncpraw](https://github.com/praw-dev/asyncpraw)
- [python-telegram-bot v20+](https://github.com/python-telegram-bot/python-telegram-bot)
- ffmpeg (для обработки аудио/видео)

## Конфигурационный файл

Для корректной работы бота необходимо создать файл `config.json` в корневой папке проекта. Этот файл содержит все необходимые настройки для интеграции с API и работы с прокси.

## Использование
Отправьте /start боту, чтобы начать.
Отправьте ссылку на трек или видео — бот определит сервис и пришлет файл.
Используйте инлайн-режим:
Введите @username_бота [ссылка] в любом чате.
Выберите результат из появившихся инлайн-ответов и отправьте файл.

## Логи и отладка
Логи выводятся в консоль.
В случае ошибки бот отправит сообщение об ошибке в чат.
Очистка временных файлов
Бот периодически очищает временные файлы, интервал и цели описаны в функции cleanup_folder.

## Лицензия
Проект предоставляется «как есть». Автор не несет ответственности за возможные нарушения авторских прав при загрузке и распространении материалов. Используйте на свой страх и риск.



### Пример файла `config.json`
```json
{
    "BOT_TOKEN": "ВАШ_TELEGRAM_BOT_TOKEN",
    "REDDIT": {
        "client_id": "ВАШ_REDDIT_CLIENT_ID",
        "client_secret": "ВАШ_REDDIT_CLIENT_SECRET",
        "user_agent": "Ваш User Agent"
    },
    "PROXIES": {
        "yandex": "http://ваш-прокси:порт",
        "spotify": "socks5h://127.0.0.1:9050",
        "tiktok": "http://ваш-прокси:порт"
    },
    "HEADERS": {
        "yandex_auth": "Bearer ваш_токен"
    },
    "COOKIES": {
        "youtube": "www.youtube.com_cookies.txt",
        "reddit": "www.reddit.com_cookies.txt"
    }
}
